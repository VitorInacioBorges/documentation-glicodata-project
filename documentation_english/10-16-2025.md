# 10/15/2025

- Today the step was installing the required programs and preparing the development environment. The Apache HTTP server was installed together with the latest PHP version, the modules commonly used for PostgreSQL connectivity, and the database server with its client.

## PHP and Apache2

- The following commands were executed via the Linux terminal:

```bash
# update linux package lists
sudo apt update

# install php
sudo apt install -y php

# install apache2
sudo apt install -y apache2

# test php and apache2
php -v
apache2 -v

# install php modules
sudo apt install -y php-cli php-pgsql php-xml php-mbstring php-curl php-zip libapache2-mod-php
```

- The last command (which installs the modules) ensures compatibility with PostgreSQL, HTTP requests, APIs and other libraries.

## Installed Modules

- **php**: main PHP interpreter. Runs .php scripts.

- **php-cli**: allows running PHP commands from the terminal.

- **php-common**: package with shared files and basic configuration used by PHP modules (functions, timezone definitions, etc.).

- **php-pgsql**: extension that allows PHP to interact with PostgreSQL. Without this module Laravel cannot access the database.

- **php-xml**: adds support for processing XML and HTML files. Required for Composer and Laravel.

- **php-mbstrings**: provides functions for handling multibyte strings (UTF-8), necessary for validations and logs.

- **php-curl**: allows PHP scripts to make HTTP requests to other servers.

- **php-zip**: allows PHP to create and extract compressed files.

- **php-bcmath**: PHP library for high-precision arithmetic operations.

- **php-json**: native support for encoding/decoding JSON.

- **libapache2-mod-php**: integrates PHP with Apache. Makes Apache process .php files with the PHP interpreter before sending them to the browser.

## Database and Admin User

- After that, PostgreSQL was installed, we logged into the default database user (who has administrator permissions), entered the database console and finally created the database with the required permissions.

```bash
# install postgresql
sudo apt install -y postgresql postgresql-contrib

# check postgres status
sudo systemctl status postgresql

# check postgres version
psql --version

# switch to postgres user
sudo -i -u postgres

# open psql console
psql

# create database, create user with password, set encoding, isolation and timezone, and grant privileges
CREATE DATABASE sistema_ubs;
CREATE USER vitor_user WITH PASSWORD 'senha_segura';
ALTER ROLE vitor_user SET client_encoding TO 'utf8';
ALTER ROLE vitor_user SET default_transaction_isolation TO 'read committed';
ALTER ROLE vitor_user SET timezone TO 'America/Sao_Paulo';
GRANT ALL PRIVILEGES ON DATABASE sistema_ubs TO vitor_user;
```
