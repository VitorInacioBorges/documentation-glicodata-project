# 10/15/2025

- Hoje o passo foi a instalação dos programas necessários e a preparação do ambiente de desenvolvimento. Foram instalados servidor Apache HTTP juntamente com a linguagem PHP mais atualizada, seus módulos mais utilizados na conexão com PostgreSQL e a instalação do banco de dados com cliente.

## PHP e Apache2

- Via terminal Linux os seguintes comandos foram realizados:

```bash
# atualiza os pacotes de instalação do linux
sudo apt update

# instala o php
sudo apt install -y php

# instala o apache 2
sudo apt install -y apache2

# instala os módulos do php
sudo apt install -y php-cli php-pgsql php-xml php-mbstring php-curl php-zip libapache2-mod-php
```

- O último comando (o qual instala os modulos) garante a compatibilidade com PostgreSQL, requisições HTTP, APIs e outras bibliotecas.

## Módulos Instalados

- **php**: interpretador principal da linguagem PHP. Roda scripts .php;

- **php-cli**: permite rodar instruções PHP pelo terminal.

- **php-common**: pacote com arquivos compartilhados e configurações básicas em comum usados por todos os módulos PHP. Funções, definicões de tempo, fuso, entre outros.

- **php-pgsql**: extensao que permite PHP e banco de dados interagirem entre si. Sem esse módulo o Laravel não pode acessar o banco.

- **php-xml**: adiciona suporte para processar arquivos XML e HTML. Necessário para Composer e Laravel.

- **php-mbstrings**: fornece funções de manipulação de multibyte strings (UTF-8) necessário para as validações e logs.

- **php-curl**: permite scripts .php fazerem requições HTTP para outros servidores.

- **php-zip**: permite o PHP criar e extrair arquivos compactados.

- **php-bcmath**: biblioteca php para suporte de cálculo com números altos com alta precisão.

- **php-json**: suporte nativo para codificar arquivos .json.

- **libapache2-mod-php**: módulo que integra php com apache. Faz apache entender que arquivos .php devem ser processados pelo interpretador antes de serem enviados ao navegador.

## Database e Usuário Admin

- Após isso, foi instalado o PostgreSQL, feita a entrada no usuário padrão do banco (que possui permissões de administrador), entrada no console do banco e finalmente feita a criação o banco de dados com todas as permissões devidas.

```bash
# baixamos o postgresql
sudo apt install -y postgresql postgresql-contrib

# verificamos o status do banco
sudo systemctl status postgresql

# entramos no usuário postgres
sudo -i -u postgres

# entramos no console do PostgreSQL
psql

# criamos o database, o usuário com senha, alteramos o método de codificação, o fuso e garantimos os privilégios de administrador ao nosso usuário
CREATE DATABASE sistema_ubs;
CREATE USER vitor_user WITH PASSWORD 'senha_segura';
ALTER ROLE vitor_user SET client_encoding TO 'utf8';
ALTER ROLE vitor_user SET default_transaction_isolation TO 'read committed';
ALTER ROLE vitor_user SET timezone TO 'America/Sao_Paulo';
GRANT ALL PRIVILEGES ON DATABASE sistema_ubs TO vitor_user;
```
